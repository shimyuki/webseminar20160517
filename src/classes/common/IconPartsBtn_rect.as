package common {	import flash.display.*;	import flash.events.*;	import flash.geom.*;	import window.header.HeaderContents;		public class IconPartsBtn_rect extends Sprite {		private var m_icon;		private var m_over:Shape;		protected var m_on:Shape;		protected var m_clickObj:Sprite;		private const LINE_COLOR:uint = 0xd9d9d9;		private const BASE_COLOR_01:uint = HeaderContents.BASE_COLOR_01;		private const BASE_COLOR_02:uint = HeaderContents.BASE_COLOR_02;		private const BASE_COLOR_03:uint = 0xcccccc;				public function IconPartsBtn_rect( _icon:DisplayObject, _w:Number = 0, _h:Number = 0) {						// ベース			var matrix:Matrix = new Matrix();			matrix.createGradientBox( _w, _h, - Math.PI / 2);			var base:Shape = Shape( addChild( new Shape()));			base.graphics.beginGradientFill( GradientType.LINEAR,											[BASE_COLOR_02, BASE_COLOR_01],											[1, 1],											[0x00, 0xFF],											matrix, SpreadMethod.PAD);			base.graphics.drawRect( 0, 0, _w, _h);			base.graphics.endFill();			base.graphics.lineStyle( 1, 0xffffff, 1, true);			base.graphics.moveTo( -0.5, 0);			base.graphics.lineTo( -0.5, _h);			base.graphics.lineStyle( 1, LINE_COLOR, 1, true);			base.graphics.moveTo( -1.5, 0);			base.graphics.lineTo( -1.5, _h);						// OVERベース			m_over = Shape( addChild( new Shape()));			m_over.graphics.beginGradientFill( GradientType.LINEAR,											[BASE_COLOR_01, BASE_COLOR_02],											[1, 1],											[0x00, 0xFF],											matrix, SpreadMethod.PAD);			m_over.graphics.drawRect( 0, 0, _w, _h);			m_over.graphics.endFill();			m_over.visible = false;						// ONベース			m_on = Shape( addChild( new Shape()));			m_on.graphics.beginGradientFill( GradientType.LINEAR,											[BASE_COLOR_03, BASE_COLOR_02],											[1, 1],											[0x00, 0xFF],											matrix, SpreadMethod.PAD);			m_on.graphics.drawRect( 0, 0, _w, _h);			m_on.graphics.endFill();			m_on.visible = false;					// アイコン配置			_icon.x = ( _w - _icon.width) / 2;			_icon.y = ( _h - _icon.height) / 2;			m_icon = addChild( _icon);						m_clickObj = Sprite( addChild( new Sprite()));			m_clickObj.graphics.beginFill( 0, 0);			m_clickObj.graphics.drawRect( 0, 0, _w, _h);			m_clickObj.graphics.endFill();					}		public function setEnabled( b:Boolean):void {			buttonMode = b;			if( b) {				m_clickObj.addEventListener( MouseEvent.ROLL_OVER, onRollOVER);				m_clickObj.addEventListener( MouseEvent.ROLL_OUT, onRollOUT);				m_icon.alpha = 1;			} else {				m_clickObj.removeEventListener( MouseEvent.ROLL_OVER, onRollOVER);				m_clickObj.removeEventListener( MouseEvent.ROLL_OUT, onRollOUT);				onRollOUT();				m_icon.alpha = 0.3;			}		}		public function on() {			m_on.visible = true;		}		public function off() {			m_on.visible = false;		}		function onRollOVER( e:MouseEvent) {			m_over.visible = true;		}		function onRollOUT( e:MouseEvent = null) {			m_over.visible = false;		}	}}