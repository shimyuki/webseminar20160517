package window.whiteboard {	import flash.display.*;	import flash.geom.*;	import flash.text.*;	import flash.events.*;	// 背景資料一覧から選択する用	public class xxx_DocStepper extends Sprite {		static public const TEXT_CLICKED:String = "DocStepper TEXT_CLICKED";		static public const FIRST_CLICKED:String = "DocStepper FIRST_CLICKED";		static public const BACK_CLICKED:String = "DocStepper BACK_CLICKED";		static public const NEXT_CLICKED:String = "DocStepper NEXT_CLICKED";		static public const LAST_CLICKED:String = "DocStepper LAST_CLICKED";		private var m_docText:TextField;		private var DEFAULT_TEXT = "---";		private const TEXT_PAD = 3;		private var DEFAULT_TEXT_W:Number;		private const BG_ALPHA = 0.5;		private const ICON_ALPHA = 0.2;		 		public function xxx_DocStepper() {						DEFAULT_TEXT = Main.LANG.getParam( "資料を選択");			DEFAULT_TEXT_W = _clickText.width;						m_docText = TextField( addChild( new TextField()));			m_docText.defaultTextFormat = new TextFormat( Main.CONF.getMainFont(), 10, 0x000000);			m_docText.text = DEFAULT_TEXT;			m_docText.height = m_docText.textHeight + 4;									replace();						// hoverの青ラインを一番上に			addChild( _hover1st); addChild( _hoverBack); addChild( _hoverText); addChild( _hoverNext); addChild( _hoverLast);			// icoonを一番上に			addChild( _icon1st); addChild( _iconBack); addChild( _iconNext); addChild( _iconLast);			// clickを一番上に			addChild( _click1st); addChild( _clickBack); addChild( _clickText); addChild( _clickNext); addChild( _clickLast);			_click1st.alpha = _clickBack.alpha = _clickText.alpha = _clickNext.alpha = _clickLast.alpha = 0;									setEnableText();			setEnableBack( false);			setEnableNext( false);		}				public function reset() {			m_docText.text = DEFAULT_TEXT;			setEnableBack( false);			setEnableNext( false);		}				public function setTextWidth( _w:Number) {						// Testエリアのサイズを調整			var scale_x = _w / DEFAULT_TEXT_W;			_clickText.scaleX = _bgText.scaleX = _hoverText.scaleX = scale_x;						replace();		}				public function setText( str:String) { m_docText.text = str;}		function setEnableText() {			_hoverText.visible = false;			_bgText.alpha = BG_ALPHA;			_clickText.addEventListener( MouseEvent.CLICK, function(e:*){ dispatchEvent( new Event( TEXT_CLICKED))});			_clickText.addEventListener( MouseEvent.ROLL_OVER, rollOverText);			_clickText.addEventListener( MouseEvent.ROLL_OUT, rollOutText);		}		function rollOverText( e:MouseEvent) { rollOver( _bgText, _hoverText); }		function rollOutText( e:MouseEvent) { rollOut( _bgText, _hoverText); }		public function setEnableBack( b:Boolean) {			_hover1st.visible = _hoverBack.visible = false;			_bg1st.alpha = _bgBack.alpha = BG_ALPHA;			if( b) {				_icon1st.alpha = _iconBack.alpha = 1;				_click1st.addEventListener( MouseEvent.CLICK, click1st);				_click1st.addEventListener( MouseEvent.ROLL_OVER, rollOver1st);				_click1st.addEventListener( MouseEvent.ROLL_OUT, rollOut1st);				_clickBack.addEventListener( MouseEvent.CLICK, clickBack);				_clickBack.addEventListener( MouseEvent.ROLL_OVER, rollOverBack);				_clickBack.addEventListener( MouseEvent.ROLL_OUT, rollOutBack);			} else {				_icon1st.alpha = _iconBack.alpha = BG_ALPHA;				_click1st.removeEventListener( MouseEvent.CLICK, click1st);				_click1st.removeEventListener( MouseEvent.ROLL_OVER, rollOver1st);				_click1st.removeEventListener( MouseEvent.ROLL_OUT, rollOut1st);				_clickBack.removeEventListener( MouseEvent.CLICK, clickBack);				_clickBack.removeEventListener( MouseEvent.ROLL_OVER, rollOverBack);				_clickBack.removeEventListener( MouseEvent.ROLL_OUT, rollOutBack);			}		}		function click1st( e:MouseEvent) { dispatchEvent( new Event( FIRST_CLICKED));}		function rollOver1st( e:MouseEvent) { rollOver( _bg1st, _hover1st); }		function rollOut1st( e:MouseEvent) { rollOut( _bg1st, _hover1st); }		function clickBack( e:MouseEvent) { dispatchEvent( new Event( BACK_CLICKED));}		function rollOverBack( e:MouseEvent) { rollOver( _bgBack, _hoverBack); }		function rollOutBack( e:MouseEvent) { rollOut( _bgBack, _hoverBack); }		public function setEnableNext( b:Boolean) {			_hoverNext.visible = _hoverLast.visible = false;			_bgNext.alpha = _bgLast.alpha = BG_ALPHA;			if( b) {				_iconNext.alpha = _iconLast.alpha = 1;				_clickNext.addEventListener( MouseEvent.CLICK, clickNext);				_clickNext.addEventListener( MouseEvent.ROLL_OVER, rollOverNext);				_clickNext.addEventListener( MouseEvent.ROLL_OUT, rollOutNext);				_clickLast.addEventListener( MouseEvent.CLICK, clickLast);				_clickLast.addEventListener( MouseEvent.ROLL_OVER, rollOverLast);				_clickLast.addEventListener( MouseEvent.ROLL_OUT, rollOutLast);			} else {				_iconNext.alpha = _iconLast.alpha = BG_ALPHA;				_clickNext.removeEventListener( MouseEvent.CLICK, clickNext);				_clickNext.removeEventListener( MouseEvent.ROLL_OVER, rollOverNext);				_clickNext.removeEventListener( MouseEvent.ROLL_OUT, rollOutNext);				_clickLast.removeEventListener( MouseEvent.CLICK, clickLast);				_clickLast.removeEventListener( MouseEvent.ROLL_OVER, rollOverLast);				_clickLast.removeEventListener( MouseEvent.ROLL_OUT, rollOutLast);			}		}		function clickNext( e:MouseEvent) { dispatchEvent( new Event( NEXT_CLICKED));}		function rollOverNext( e:MouseEvent) { rollOver( _bgNext, _hoverNext); }		function rollOutNext( e:MouseEvent) { rollOut( _bgNext, _hoverNext); }		function clickLast( e:MouseEvent) { dispatchEvent( new Event( LAST_CLICKED));}		function rollOverLast( e:MouseEvent) { rollOver( _bgLast, _hoverLast); }		function rollOutLast( e:MouseEvent) { rollOut( _bgLast, _hoverLast); }		function rollOver( bg, hover) {			bg.alpha = 1;			hover.visible = true;		}		function rollOut( bg, hover) {			bg.alpha = BG_ALPHA;			hover.visible = false;		}				function replace() {			// 1stボタン			var posi_x = _click1st.width / 2;			_click1st.x = _bg1st.x = _hover1st.x = _icon1st.x = posi_x;			_click1st.y = _bg1st.y = _hover1st.y = _icon1st.y = _bg1st.height / 2;			// Backボタン			posi_x += _click1st.width / 2 + _clickBack.width / 2;			_clickBack.x = _bgBack.x = _hoverBack.x = _iconBack.x = posi_x;			_clickBack.y = _bgBack.y = _hoverBack.y = _iconBack.y = _bgBack.height / 2;			// Testエリア			posi_x += _clickBack.width / 2 + _clickText.width / 2;			_clickText.x = _bgText.x = _hoverText.x = posi_x;			_clickText.y = _bgText.y = _hoverText.y = _bgText.height / 2;			m_docText.x = _clickText.x - _clickText.width / 2 + TEXT_PAD;			m_docText.y = ( _clickText.height - m_docText.height) / 2;			m_docText.width = _clickText.width - TEXT_PAD;						// Nextボタン			posi_x += _clickText.width / 2 + _clickNext.width / 2;			_clickNext.x = _bgNext.x = _hoverNext.x = _iconNext.x = posi_x;			_clickNext.y = _bgNext.y = _hoverNext.y = _iconNext.y = _bgNext.height / 2;			// Lastボタン			posi_x += _clickNext.width / 2 + _clickLast.width / 2;			_clickLast.x = _bgLast.x = _hoverLast.x = _iconLast.x = posi_x;			_clickLast.y = _bgLast.y = _hoverLast.y = _iconLast.y = _bgLast.height / 2;					}			}}