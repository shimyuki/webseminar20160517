package window.whiteboard {	import flash.display.*;	import flash.geom.*;	import common.*;	import window.*;	import partition.*;	import flash.events.*;		// ホワイトボード	public class OpenCloseBtn extends Sprite {		static public const W = 20;		static public const H = 20;		private var m_on:Shape;		private var m_clickObj:Sprite;		private const LINE_COLOR:uint = 0xAFBDC6;		private const LINE:Number = 1;		private const BASE_COLOR_01:uint = Main.MAIN_COLOR_02;//0xd3ecfb;		private const BASE_COLOR_02:uint = Main.MAIN_COLOR_02;//0xa2dbfe;		private const ARROW_COLOR:uint = 0xffffff;//0x446787;		private const ELLIPSE_W:Number = 8;		private var m_arrow:Shape;		public function OpenCloseBtn() {						// ベース			var w:Number = W - LINE;			var h:Number = H - LINE;			var matrix:Matrix = new Matrix();			matrix.createGradientBox( w, h, - Math.PI / 2);			var base:Shape = Shape( addChild( new Shape()));			base.graphics.lineStyle( LINE, LINE_COLOR, 1, true);			base.graphics.beginGradientFill( GradientType.LINEAR,											[BASE_COLOR_02, BASE_COLOR_01],											[1, 1],											[0x00, 0xFF],											matrix, SpreadMethod.PAD);			base.graphics.drawRoundRect( LINE/2, LINE/2, w, h, ELLIPSE_W);			base.graphics.endFill();						// ONベース			m_on = Shape( addChild( new Shape()));			m_on.graphics.lineStyle( LINE, LINE_COLOR, 1, true);			m_on.graphics.beginGradientFill( GradientType.LINEAR,											[BASE_COLOR_01, BASE_COLOR_02],											[1, 1],											[0x00, 0xFF],											matrix, SpreadMethod.PAD);			m_on.graphics.drawRoundRect( LINE/2, LINE/2, w, h, ELLIPSE_W);			m_on.graphics.endFill();			m_on.visible = false;						// 右矢印			m_arrow = Shape( addChild( new Shape()));			m_arrow.graphics.lineStyle( 2, ARROW_COLOR);			m_arrow.graphics.moveTo( 0, -5);			m_arrow.graphics.lineTo( -5, 0);			m_arrow.graphics.lineTo( 0, 5);			m_arrow.graphics.moveTo( 5, -5);			m_arrow.graphics.lineTo( 0, 0);			m_arrow.graphics.lineTo( 5, 5);			m_arrow.x = W / 2;			m_arrow.y = H / 2;						m_clickObj = Sprite( addChild( new Sprite()));			m_clickObj.graphics.beginFill( 0, 0);			m_clickObj.graphics.drawRoundRect( 0, 0, W, H, ELLIPSE_W);			m_clickObj.graphics.endFill();		}		public function setEnabled( b:Boolean):void {			buttonMode = b;			if( b) {				m_clickObj.addEventListener( MouseEvent.ROLL_OVER, onRollOVER);				m_clickObj.addEventListener( MouseEvent.ROLL_OUT, onRollOUT);			} else {				m_clickObj.removeEventListener( MouseEvent.ROLL_OVER, onRollOVER);				m_clickObj.removeEventListener( MouseEvent.ROLL_OUT, onRollOUT);				onRollOUT();			}		}		public function setArrowRight() {			m_arrow.rotation = 180;			//trace("r");		}		public function setArrowLeft() {			m_arrow.rotation = 0;			//trace("l");		}		function onRollOVER( e:MouseEvent) {			m_on.visible = true;		}		function onRollOUT( e:MouseEvent = null) {			m_on.visible = false;		}	}}