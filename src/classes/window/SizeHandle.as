package window {	import flash.display.*;	import flash.geom.*;	import flash.events.*;		public class SizeHandle extends Sprite {		private var m_preX:Number;		private var m_preY:Number;		public function SizeHandle() {			addChild( new SizeChangeHandle());			graphics.beginFill(0,0);			graphics.drawRect( 0, 0, width, height);			visible = false;			blendMode = BlendMode.MULTIPLY;		}		public function setEnable( b:Boolean) {			visible = b;			buttonMode = b;			if( b){				addEventListener( MouseEvent.MOUSE_DOWN, onMouseDOWN);			} else {				removeEventListener( MouseEvent.MOUSE_DOWN, onMouseDOWN);			}		}		function onMouseDOWN( e:MouseEvent) {			stage.addEventListener( MouseEvent.MOUSE_MOVE, onMouseMOVE);			stage.addEventListener( MouseEvent.MOUSE_UP, onMouseUP);			removeEventListener( MouseEvent.MOUSE_DOWN, onMouseDOWN);						m_preX = stage.mouseX;			m_preY = stage.mouseY;		}		function onMouseUP( e:MouseEvent) {			if( stage == null) return;			stage.removeEventListener( MouseEvent.MOUSE_MOVE, onMouseMOVE);			stage.removeEventListener( MouseEvent.MOUSE_UP, onMouseUP);			addEventListener( MouseEvent.MOUSE_DOWN, onMouseDOWN);		}		function onMouseMOVE( e:MouseEvent) {			dispatchEvent( new SizeHandleEvent( "change", m_preX - stage.mouseX, m_preY - stage.mouseY));			m_preX = stage.mouseX;			m_preY = stage.mouseY;		}	}}