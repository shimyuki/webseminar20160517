package window.setting {	import flash.display.*;	import fl.controls.ComboBox;	import flash.text.*;	import flash.net.URLRequest;	import flash.events.Event;		public class Cell_pickup extends Cell {		private var m_combo:ComboBox;		public function Cell_pickup( uid:String, _w:Number, allUidArr:Array) {						H = 2+HEADER_H+1+IMG_H+1+FOOTER_H+2;						m_combo = ComboBox( addChild( new ComboBox()));			m_combo.x = 5;			m_combo.y = H - 2 - FOOTER_H + 3;			m_combo.width = _w - m_combo.x * 2;						super( uid, _w);						var selectedItem_keep = null;			for each( var _uid:String in allUidArr) {				var item:Object = { label: Main.CONF.getName( _uid), data: _uid};				m_combo.addItem( item);				if( _uid == uid) selectedItem_keep = item;			}			var nouseItem = { label: Main.LANG.getParam( "使用しない"), data: null};			m_combo.addItem( nouseItem); // 使用しない			m_combo.addEventListener( Event.CHANGE, onChange);						/*			// ドロップダウンリストのテキストの長さに基づいて dropdownWidth プロパティを設定			var maxLength:Number = 0;			var i:uint;			for ( i = 0; i < m_combo.length; i++) {				m_combo.selectedIndex = i;				m_combo.drawNow();				var currText:String = m_combo.text;				var currWidth:Number = m_combo.textField.textWidth;				maxLength = Math.max(currWidth, maxLength);			}			m_combo.dropdownWidth = maxLength + 20;			*/						if( selectedItem_keep != null) {				m_combo.selectedItem = selectedItem_keep;				onChange();			} else {				m_combo.selectedItem = nouseItem;			}		}				function onChange( e:Event = null) {			m_title.text = String( Object( m_combo.selectedItem).label);			m_selectedUid = Object( m_combo.selectedItem).data;						// 画像の入れ替え			var memberData = Main.CONF.getMemberDataHash( Object( m_combo.selectedItem).data);			if( memberData != null) {m_bitmap.bitmapData = Main.CONF.getMemberImgBmpdata( memberData.img);}			else {m_bitmap.bitmapData = null;}		}				override public function setWidth( _w:Number) {			super.setWidth( _w);						// コンボボックスサイズと位置			m_combo.y = H - 2 - FOOTER_H + 3;			m_combo.width = _w - m_combo.x * 2;		}			}}