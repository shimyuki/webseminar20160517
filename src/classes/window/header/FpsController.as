package window.header {	import flash.display.*;	import flash.text.*;	import flash.events.*;	import flash.utils.*;	import fl.controls.*;	import common.*;		public class FpsController extends Sprite {		private var m_ns:NumericStepper;		private var m_currentFps:TextField;		private var m_timer:Timer;		private var m_time_count:int;		public function FpsController() {			var lab:TextField = TextField( addChild( new TextField()));			lab.defaultTextFormat = new TextFormat( Main.CONF.getMainFont(), 11, 0x333333);			lab.autoSize = TextFieldAutoSize.LEFT;			lab.text = "fps:";			lab.selectable = lab.mouseEnabled = false;						m_ns = new NumericStepper();            m_ns.stepSize = 1;            m_ns.minimum = 1;            m_ns.maximum = 99;			m_ns.setSize( 50, 20);			//m_ns.x = lab.width + 3;			m_ns.move( lab.width + 3, 0);            addChild( m_ns);						m_currentFps = new TextField();			m_currentFps.defaultTextFormat = new TextFormat( Main.CONF.getMainFont(), 10, 0x888888);			m_currentFps.autoSize = TextFieldAutoSize.LEFT;			m_currentFps.x = m_ns.x + m_ns.width + 3;			m_currentFps.text = "  ";			m_currentFps.selectable = m_currentFps.mouseEnabled = false;			addChild( m_currentFps);						m_timer = new Timer( 1000);						addEventListener( Event.ADDED_TO_STAGE, onAdded);		}		function onAdded( e:Event) {			m_ns.value = stage.frameRate;			m_ns.addEventListener( Event.CHANGE, onChange);			m_timer.addEventListener( TimerEvent.TIMER, onTimer);			m_timer.start();			m_time_count = 0;			addEventListener( Event.ENTER_FRAME, onEnterFrame);		}		function onTimer( e:TimerEvent) {			m_currentFps.text = String( m_time_count);			m_time_count = 0;		}		function onChange( e:Event):void {           // var ns:NumericStepper = e.target as NumericStepper;            stage.frameRate = m_ns.value;        }		function onEnterFrame( e:Event):void {			m_time_count++;		}	}}