package {    import flash.net.*;	import flash.utils.*;	import flash.events.*;    public class StreamChecker_stu extends EventDispatcher {		protected var so_knock:SharedObject;			public function StreamChecker_stu() {		}				public function initSo( str:String, nc:NetConnection) {			// ノック（ダイレクト出席確認）の共有オブジェクト			if( so_knock == null) {				so_knock = SharedObject.getRemote( str, nc.uri, false);			} else {				so_knock.removeEventListener( SyncEvent.SYNC, onSync);			}			so_knock.addEventListener( SyncEvent.SYNC, onSync1st);			so_knock.connect( nc);		}		protected function onSync1st( e:SyncEvent):void {			if( so_knock.data[ Main.CONF.UID] != undefined || so_knock.data[ Main.CONF.UID] == false) so_knock.setProperty( Main.CONF.UID, true);			so_knock.removeEventListener( SyncEvent.SYNC, onSync1st);			dispatchEvent( new Event( "so_knock ready"));			so_knock.addEventListener( SyncEvent.SYNC, onSync);		}		protected function onSync( e:SyncEvent):void {			if( !so_knock.data.hasOwnProperty( Main.CONF.UID) || so_knock.data[ Main.CONF.UID] == false) so_knock.setProperty( Main.CONF.UID, true);		}	}}